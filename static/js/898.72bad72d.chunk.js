"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[898],{8898:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a=s(4165),n=s(5861),r=s(4942),l=s(1413),o=s(9439),i=s(2791),c=s(1243),u=s(9434),d=s(7962),m=s(7689),x=s(6856),p=s(7425),f=s(1514),g=s(184);function h(){var e=(0,m.s0)(),t=(0,u.I0)(),s=(0,i.useState)({name:"",email:"",password:""}),h=(0,o.Z)(s,2),b=h[0],v=h[1],j=(0,i.useState)(!1),w=(0,o.Z)(j,2),N=w[0],y=w[1],k=(0,i.useState)(""),Z=(0,o.Z)(k,2),S=Z[0],I=Z[1],C=function(e){v((0,l.Z)((0,l.Z)({},b),{},(0,r.Z)({},e.target.name,e.target.value)))},F=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t,s,n=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"login",e.prev=1,e.next=4,c.Z.post("".concat(f.H,"/api/user/").concat(t),b);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(1),v({name:"",email:"",password:""}),e.t0.response&&e.t0.response.data?400===e.t0.response.status?I(e.t0.response.data.message):I("An error occurred. Please try again."):I("Network error. Please check your connection."),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var s=(0,n.Z)((0,a.Z)().mark((function s(n){var r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.preventDefault(),s.next=3,F(N?"signup":"login");case 3:(r=s.sent)&&(!N&&localStorage.setItem("userId",r._id),!N&&localStorage.setItem("token",r.token),N&&localStorage.setItem("userId",r._id),N&&localStorage.setItem("token",r.token),t(d.Y.login({})),e("/dash"));case 5:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,g.jsx)("div",{className:"bg-[#f4f4f4] flex justify-center items-center min-h-[90vh]",children:(0,g.jsx)("div",{className:"max-w-md w-full mx-auto",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-2xl",children:[(0,g.jsxs)("div",{className:"px-8 mt-8",children:[(0,g.jsx)("h2",{className:"text-3xl font-semibold text-indigo-600 py-2",children:"Login"}),(0,g.jsx)("p",{className:"text-base font-semibold",children:"If you have an account please login."})]}),(0,g.jsx)("div",{className:"p-8",children:(0,g.jsxs)("form",{onSubmit:q,children:[N&&(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsx)("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-600",children:"Full Name"}),(0,g.jsx)("input",{type:"text",name:"name",value:b.name,onChange:C,required:!0,className:"block w-full p-3 rounded bg-gray-200"})]}),(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsxs)("label",{htmlFor:"email",className:"flex justify-start text-xl items-center gap-1 mb-2 text-sm font-medium text-gray-600",children:[(0,g.jsx)(x.ixJ,{className:"text-indigo-600",size:"25px"})," Email"]}),(0,g.jsx)("input",{type:"email",name:"email",value:b.email,onChange:C,required:!0,className:"block w-full p-3 rounded bg-gray-200 outline-none border focus:border-indigo-600"})]}),(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsxs)("label",{htmlFor:"password",className:"flex justify-start text-xl gap-1 items-center mb-2 text-sm font-medium text-gray-600",children:[(0,g.jsx)(p.xuE,{className:"text-indigo-600 gap-1",size:"25px"})," ","Password"]}),(0,g.jsx)("input",{type:"password",name:"password",value:b.password,onChange:C,required:!0,className:"block w-full p-3 rounded bg-gray-200 outline-none border focus:border-indigo-600"})]}),S&&(0,g.jsx)("span",{className:"text-red-600",children:S}),(0,g.jsx)("button",{type:"submit",className:"w-full p-3 mt-4 bg-indigo-600 text-white rounded shadow",children:N?"Sign Up":"Login"})]})}),(0,g.jsxs)("div",{className:"flex justify-between p-8 text-sm border-t border-gray-300 bg-gray-100",children:[(0,g.jsx)("button",{className:"font-medium text-indigo-500",onClick:function(){return y(!N)},children:N?"Already have an account? Login":"Create account"}),(0,g.jsx)("a",{href:"/",className:"text-gray-600",children:"Forgot password?"})]})]})})})}}}]);
//# sourceMappingURL=898.72bad72d.chunk.js.map