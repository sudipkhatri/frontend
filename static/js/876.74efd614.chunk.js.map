{"version":3,"file":"static/js/876.74efd614.chunk.js","mappings":"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","sources":["Components/UserComp/MyPost.jsx","Components/UserComp/PostCard.jsx","Components/UserComp/Skeleton.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport PostCard from \"./PostCard\";\nimport Skeleton from \"./Skeleton\";\nimport {url} from \"../url.js\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function MyPost() {\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    let isMounted = true; // This flag denotes if the component is mounted\n    const userId = localStorage.getItem(\"userId\");\n    const token = localStorage.getItem(\"token\");\n\n    const fetchPosts = async () => {\n      try {\n        const response = await axios.get(\n          `${url}/api/post/user/${userId}`, {\n            headers: {authorization: token}\n          }\n        );\n        if (isMounted) {\n          setPosts(response.data.userDetails.posts);\n          setIsLoading(false);\n        }\n      } catch (err) {\n        if (isMounted) {\n          setError(err.message);\n          setIsLoading(false);\n        }\n      }\n    };\n\n    fetchPosts();\n\n    return () => {\n      isMounted = false; // Cleanup function sets the flag to false\n    };\n  }, []);\n\n  // if (isLoading) {\n  //   return <div className=\"w-screen h-screen flex justify-center items-center\">Loading...</div>;\n  // }\n\n  if (error) {\n    return (\n      <div className=\"w-screen h-screen flex justify-center items-center\">\n        Error: {error}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full border-t min-h-[80vh] py-4 flex-col flex  items-center\">\n      <div className=\"container mx-auto\">\n        <div className=\"flex w-full px-6 mt-2\">\n          <h2 className=\"text-2xl font-semibold\">My Posts</h2>\n        </div>\n        {posts.length === 0 && !isLoading && (\n          <div className=\"text-black px-6 pt-2 font-semibold\">\n            <h1>You Don't Have Any Posts</h1>\n            <button\n            className=\"p-3 border mt-3 rounded-lg w-[120px] text-white bg-indigo-600 pointer\"\n            onClick={()=>navigate('/add')}\n            >\n              Create One\n            </button>\n          </div>\n        )}\n        <div\n          className=\"mx-auto grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2 \n          justify-items-center justify-center gap-y-20 gap-x-1 mt-10 mb-5\"\n        >\n          {isLoading && (\n            <>\n              <Skeleton />\n              <Skeleton />\n              <Skeleton />\n            </>\n          )}\n          {posts?.map((post, index) => {\n            const { _id, users, title, description, imageUrl, address, price } =\n              post;\n            return (\n              <PostCard\n                key={index} // Assuming each post has a unique 'id'\n                id={_id}\n                users={users}\n                title={title}\n                description={description}\n                imageUrl={imageUrl}\n                address={address}\n                price={price}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { CiEdit } from \"react-icons/ci\";\nimport { MdDeleteForever } from \"react-icons/md\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport {url} from \"../url.js\";\n\nfunction WarningBox({ onConfirm, onCancel }) {\n  return (\n    <div className=\"fixed z-10 overflow-y-scroll top-0 right-0 mx-auto left-0\">\n      <div className=\"flex items-center justify-center min-h-[80vh] pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n        <div className=\"fixed inset-0 transition-opacity\">\n          <div className=\"absolute inset-0 bg-gray-900 opacity-75\" />\n        </div>\n        <div className=\"inline-block align-center bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n          <div className=\"bg-gray-200 flex flex-col justify-center items-center gap-4 w-full px-4 py-3 text-center\">\n            <h2 className=\"font-semibold text-lg\">Are you sure?</h2>\n            <div className=\"flex py-2\">\n              <button\n                onClick={onCancel}\n                type=\"button\"\n                className=\"py-2 px-4 border text-black border-teal-400 outline-none rounded hover:bg-teal-700 hover:text-white mr-2 shadow\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={onConfirm}\n                type=\"button\"\n                className=\"py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-700 mr-2\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nexport default function PostCard({\n  id,\n  users,\n  title,\n  description,\n  imageUrl,\n  address,\n  price,\n  handleToggleDialog,\n}) {\n  const [isWarningVisible, setIsWarningVisible] = useState(false);\n  const [error, setError] = useState(null);\n  const userId = localStorage.getItem(\"userId\");\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"token\");\n\n  const handleEdit = () => {\n   navigate(`/post/update/${id}`)\n  };\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(\n        `${url}/api/post/${id}`,\n         {headers: {authorization: token}}\n      );\n      window.location.reload();\n      navigate(\"/dash\");\n    } catch (err) {\n      setError(err.message);\n      setIsWarningVisible(false); // Close warning box on error\n    }\n  };\n\n  return (\n    <div className=\"w-[90%] relative bg-white shadow-md rounded-xl\">\n      <img src={imageUrl} alt={title} className=\"object-cover rounded-t-xl\" />\n      <div className=\"flex justify-between px-2 py-3\">\n        <div className=\"flex items-start flex-col\">\n          <p className=\"text-lg font-bold text-black py-2 block capitalize\">\n            {title}\n          </p>\n          <span className=\"text-gray-600 w-full uppercase text-xs\">\n            {description}\n          </span>\n          <p className=\"text-lg font-bold text-black mt-2 block capitalize\">\n            {address}\n          </p>\n          <p className=\"text-lg font-semibold text-black cursor-auto mt-2\">\n            ${price} per week\n          </p>\n          {!userId && (\n            <button\n              onClick={handleToggleDialog}\n              className=\"w-[120px] p-3 mt-2 bg-indigo-600 text-white rounded shadow hover:bg-indigo-500\"\n            >\n              Book Now\n            </button>\n          )}\n        </div>\n        {users === userId && (\n          <div className=\"flex justify-start items-start gap-2\">\n            <button\n              className=\"p-2 bg-teal-600 text-white rounded-full\"\n              onClick={handleEdit}\n            >\n              <CiEdit size={\"20px\"} />\n            </button>\n            <button\n              className=\"p-2 bg-teal-600 text-white rounded-full\"\n              onClick={() => setIsWarningVisible(true)}\n            >\n              <MdDeleteForever size={\"20px\"} />\n            </button>\n          </div>\n        )}\n      </div>\n      {isWarningVisible && (\n        <WarningBox\n          onConfirm={handleDelete}\n          onCancel={() => setIsWarningVisible(false)}\n        />\n      )}\n      {error && <div>Error is: {error}</div>}\n    </div>\n  );\n}\n","import React from 'react'\n\nexport default function Skeleton() {\n  return (\n    <div className=\"h-[480px] w-[90%] border-2 border-gray-200 rounded-lg overflow-hidden\">\n      <div className=\"bg-gray-200 animate-pulse w-full h-[55%]\"></div>\n      <div className=\"p-3 mb-2\">\n        <h1 className=\"mb-4 h-6 animate-pulse bg-gray-200 mt-6 \"></h1>\n        <p className=\"leading-relaxed h-9 animate-pulse bg-gray-200 \"></p>\n        {/* <p className=\"leading-relaxed mb-3 w-1/2 h-3 animate-pulse bg-gray-200\"></p> */}\n        <div className=\"flex mt-4 bg-gray-200 h-9  animate-pulse\" />\n        <div className=\"flex mt-4 bg-gray-200 h-6 animate-pulse mb-4\" />\n      </div>\n    </div>\n  );\n}\n"],"names":["MyPost","_useState","useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","navigate","useNavigate","useEffect","isMounted","userId","localStorage","getItem","token","fetchPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","get","concat","url","headers","authorization","sent","data","userDetails","t0","message","stop","apply","arguments","_jsxs","className","children","_jsx","length","onClick","_Fragment","Skeleton","map","post","index","_id","users","title","description","imageUrl","address","price","PostCard","id","WarningBox","onConfirm","onCancel","type","_ref2","handleToggleDialog","isWarningVisible","setIsWarningVisible","handleDelete","_ref3","delete","window","location","reload","src","alt","CiEdit","size","MdDeleteForever"],"sourceRoot":""}