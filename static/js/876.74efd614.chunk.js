"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[876],{3876:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var n=s(4165),a=s(5861),r=s(9439),l=s(2791),i=s(1243),c=s(5895),o=s(9544),d=s(1514),u=s(7689),x=s(184);function m(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),s=t[0],m=t[1],p=(0,l.useState)(!0),h=(0,r.Z)(p,2),f=h[0],g=h[1],b=(0,l.useState)(null),j=(0,r.Z)(b,2),v=j[0],N=j[1],w=(0,u.s0)();return(0,l.useEffect)((function(){var e=!0,t=localStorage.getItem("userId"),s=localStorage.getItem("token"),r=function(){var r=(0,a.Z)((0,n.Z)().mark((function a(){var r;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.get("".concat(d.H,"/api/post/user/").concat(t),{headers:{authorization:s}});case 3:r=n.sent,e&&(m(r.data.userDetails.posts),g(!1)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e&&(N(n.t0.message),g(!1));case 10:case"end":return n.stop()}}),a,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}();return r(),function(){e=!1}}),[]),v?(0,x.jsxs)("div",{className:"w-screen h-screen flex justify-center items-center",children:["Error: ",v]}):(0,x.jsx)("div",{className:"w-full border-t min-h-[80vh] py-4 flex-col flex  items-center",children:(0,x.jsxs)("div",{className:"container mx-auto",children:[(0,x.jsx)("div",{className:"flex w-full px-6 mt-2",children:(0,x.jsx)("h2",{className:"text-2xl font-semibold",children:"My Posts"})}),0===s.length&&!f&&(0,x.jsxs)("div",{className:"text-black px-6 pt-2 font-semibold",children:[(0,x.jsx)("h1",{children:"You Don't Have Any Posts"}),(0,x.jsx)("button",{className:"p-3 border mt-3 rounded-lg w-[120px] text-white bg-indigo-600 pointer",onClick:function(){return w("/add")},children:"Create One"})]}),(0,x.jsxs)("div",{className:"mx-auto grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2  justify-items-center justify-center gap-y-20 gap-x-1 mt-10 mb-5",children:[f&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{}),(0,x.jsx)(o.Z,{}),(0,x.jsx)(o.Z,{})]}),null===s||void 0===s?void 0:s.map((function(e,t){var s=e._id,n=e.users,a=e.title,r=e.description,l=e.imageUrl,i=e.address,o=e.price;return(0,x.jsx)(c.Z,{id:s,users:n,title:a,description:r,imageUrl:l,address:i,price:o},t)}))]})]})})}},5895:function(e,t,s){s.d(t,{Z:function(){return p}});var n=s(4165),a=s(5861),r=s(9439),l=s(2791),i=s(458),c=s(6856),o=s(1243),d=s(7689),u=s(1514),x=s(184);function m(e){var t=e.onConfirm,s=e.onCancel;return(0,x.jsx)("div",{className:"fixed z-10 overflow-y-scroll top-0 right-0 mx-auto left-0",children:(0,x.jsxs)("div",{className:"flex items-center justify-center min-h-[80vh] pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,x.jsx)("div",{className:"fixed inset-0 transition-opacity",children:(0,x.jsx)("div",{className:"absolute inset-0 bg-gray-900 opacity-75"})}),(0,x.jsx)("div",{className:"inline-block align-center bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,x.jsxs)("div",{className:"bg-gray-200 flex flex-col justify-center items-center gap-4 w-full px-4 py-3 text-center",children:[(0,x.jsx)("h2",{className:"font-semibold text-lg",children:"Are you sure?"}),(0,x.jsxs)("div",{className:"flex py-2",children:[(0,x.jsx)("button",{onClick:s,type:"button",className:"py-2 px-4 border text-black border-teal-400 outline-none rounded hover:bg-teal-700 hover:text-white mr-2 shadow",children:"Cancel"}),(0,x.jsx)("button",{onClick:t,type:"button",className:"py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-700 mr-2",children:"Delete"})]})]})})]})})}function p(e){var t=e.id,s=e.users,p=e.title,h=e.description,f=e.imageUrl,g=e.address,b=e.price,j=e.handleToggleDialog,v=(0,l.useState)(!1),N=(0,r.Z)(v,2),w=N[0],y=N[1],k=(0,l.useState)(null),Z=(0,r.Z)(k,2),C=Z[0],S=Z[1],z=localStorage.getItem("userId"),I=(0,d.s0)(),D=localStorage.getItem("token"),H=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.delete("".concat(u.H,"/api/post/").concat(t),{headers:{authorization:D}});case 3:window.location.reload(),I("/dash"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),S(e.t0.message),y(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"w-[90%] relative bg-white shadow-md rounded-xl",children:[(0,x.jsx)("img",{src:f,alt:p,className:"object-cover rounded-t-xl"}),(0,x.jsxs)("div",{className:"flex justify-between px-2 py-3",children:[(0,x.jsxs)("div",{className:"flex items-start flex-col",children:[(0,x.jsx)("p",{className:"text-lg font-bold text-black py-2 block capitalize",children:p}),(0,x.jsx)("span",{className:"text-gray-600 w-full uppercase text-xs",children:h}),(0,x.jsx)("p",{className:"text-lg font-bold text-black mt-2 block capitalize",children:g}),(0,x.jsxs)("p",{className:"text-lg font-semibold text-black cursor-auto mt-2",children:["$",b," per week"]}),!z&&(0,x.jsx)("button",{onClick:j,className:"w-[120px] p-3 mt-2 bg-indigo-600 text-white rounded shadow hover:bg-indigo-500",children:"Book Now"})]}),s===z&&(0,x.jsxs)("div",{className:"flex justify-start items-start gap-2",children:[(0,x.jsx)("button",{className:"p-2 bg-teal-600 text-white rounded-full",onClick:function(){I("/post/update/".concat(t))},children:(0,x.jsx)(i.FNg,{size:"20px"})}),(0,x.jsx)("button",{className:"p-2 bg-teal-600 text-white rounded-full",onClick:function(){return y(!0)},children:(0,x.jsx)(c.FH3,{size:"20px"})})]})]}),w&&(0,x.jsx)(m,{onConfirm:H,onCancel:function(){return y(!1)}}),C&&(0,x.jsxs)("div",{children:["Error is: ",C]})]})}},9544:function(e,t,s){s.d(t,{Z:function(){return a}});s(2791);var n=s(184);function a(){return(0,n.jsxs)("div",{className:"h-[480px] w-[90%] border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,n.jsx)("div",{className:"bg-gray-200 animate-pulse w-full h-[55%]"}),(0,n.jsxs)("div",{className:"p-3 mb-2",children:[(0,n.jsx)("h1",{className:"mb-4 h-6 animate-pulse bg-gray-200 mt-6 "}),(0,n.jsx)("p",{className:"leading-relaxed h-9 animate-pulse bg-gray-200 "}),(0,n.jsx)("div",{className:"flex mt-4 bg-gray-200 h-9  animate-pulse"}),(0,n.jsx)("div",{className:"flex mt-4 bg-gray-200 h-6 animate-pulse mb-4"})]})]})}}}]);
//# sourceMappingURL=876.74efd614.chunk.js.map