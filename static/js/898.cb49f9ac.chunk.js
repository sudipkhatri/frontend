"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[898],{8898:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(4165),s=a(5861),r=a(4942),l=a(1413),i=a(9439),o=a(2791),c=a(1243),u=a(9434),d=a(7962),m=a(7689),x=a(6856),p=a(7425),f=a(1514),g=a(184);function h(){var e=(0,m.s0)(),t=(0,u.I0)(),a=(0,o.useState)({name:"",email:"",password:""}),h=(0,i.Z)(a,2),b=h[0],v=h[1],j=(0,o.useState)(!1),w=(0,i.Z)(j,2),N=w[0],y=w[1],k=(0,o.useState)(!1),Z=(0,i.Z)(k,2),S=Z[0],I=Z[1],C=(0,o.useState)(""),F=(0,i.Z)(C,2),L=F[0],q=F[1],z=function(e){v((0,l.Z)((0,l.Z)({},b),{},(0,r.Z)({},e.target.name,e.target.value)))},E=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t,a,s,r,l=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"login",I(!0),e.prev=2,e.next=5,c.Z.post("".concat(f.H,"/api/user/").concat(t),b);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e.catch(2),q((null===(s=e.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Network error. Please check your connection."),e.abrupt("return",null);case 13:return e.prev=13,I(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var a=(0,s.Z)((0,n.Z)().mark((function a(s){var r;return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.next=3,E(N?"signup":"login");case 3:(r=a.sent)&&(!N&&localStorage.setItem("userId",r._id),!N&&localStorage.setItem("token",r.token),N&&localStorage.setItem("userId",r._id),N&&localStorage.setItem("token",r.token),t(d.Y.login({})),e("/dash"));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,g.jsx)("div",{className:"bg-[#f4f4f4] flex justify-center items-center min-h-[90vh]",children:(0,g.jsx)("div",{className:"max-w-md w-full mx-auto",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-2xl",children:[(0,g.jsxs)("div",{className:"px-8 mt-8",children:[(0,g.jsx)("h2",{className:"text-3xl font-semibold text-indigo-600 py-2",children:"Login"}),(0,g.jsx)("p",{className:"text-base font-semibold",children:"If you have an account please login."})]}),(0,g.jsx)("div",{className:"p-8",children:(0,g.jsxs)("form",{onSubmit:P,children:[N&&(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsx)("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-600",children:"Full Name"}),(0,g.jsx)("input",{type:"text",name:"name",value:b.name,onChange:z,required:!0,className:"block w-full p-3 rounded bg-gray-200"})]}),(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsxs)("label",{htmlFor:"email",className:"flex justify-start text-xl items-center gap-1 mb-2 text-sm font-medium text-gray-600",children:[(0,g.jsx)(x.ixJ,{className:"text-indigo-600",size:"25px"})," Email"]}),(0,g.jsx)("input",{type:"email",name:"email",value:b.email,onChange:z,required:!0,className:"block w-full p-3 rounded bg-gray-200 outline-none border focus:border-indigo-600"})]}),(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsxs)("label",{htmlFor:"password",className:"flex justify-start text-xl gap-1 items-center mb-2 text-sm font-medium text-gray-600",children:[(0,g.jsx)(p.xuE,{className:"text-indigo-600 gap-1",size:"25px"})," ","Password"]}),(0,g.jsx)("input",{type:"password",name:"password",value:b.password,onChange:z,required:!0,className:"block w-full p-3 rounded bg-gray-200 outline-none border focus:border-indigo-600"})]}),L&&(0,g.jsx)("span",{className:"text-red-600",children:L}),(0,g.jsx)("button",{type:"submit",className:"w-full p-3 mt-4 bg-indigo-600 text-white rounded shadow",children:S?"Loading...":N?"Sign Up":"Login"})]})}),(0,g.jsxs)("div",{className:"flex justify-between p-8 text-sm border-t border-gray-300 bg-gray-100",children:[(0,g.jsx)("button",{className:"font-medium text-indigo-500",onClick:function(){return y(!N)},children:N?"Already have an account? Login":"Create account"}),(0,g.jsx)("a",{href:"/",className:"text-gray-600",children:"Forgot password?"})]})]})})})}}}]);
//# sourceMappingURL=898.cb49f9ac.chunk.js.map